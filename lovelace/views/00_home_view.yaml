title: Main
id: 0
icon: mdi:home-heart
cards:


###### HOME TAB

##Status Card
  - type: vertical-stack
    cards:
    - type: entities
      show_header_toggle: false
      title: Status
      entities:
        - entity: sensor.home_status
          style: |
            :host {
              color:
                {% if is_state(config.entity, "Disarmed") %}
                  green
                {% elif is_state(config.entity, "Armed") %}
                  red
                {% endif %}
                ;
            }
        - entity: binary_sensor.door_locks
          style: |
            :host {
              color:
                {% if is_state(config.entity, "on") %}
                  red
                {% elif is_state(config.entity, "off") %}
                  green
                {% endif %}
                ;
            }
        - entity: sensor.shuttle_bay
          style: |
            :host {
              color:
                {% if is_state(config.entity, "Closed") %}
                  green
                {% else %}
                  red
                {% endif %}
                ;
            }
        # - binary_sensor.alarm
        - type: divider
        - person.josh
        - person.mj
        # - binary_sensor.windows
        # - binary_sensor.bs_shuttle_bay
        # - type: divider
    
    - type: custom:state-switch
      entity: input_select.home_status
      states:
        Armed:
          type: alarm-panel
          entity: alarm_control_panel.home_alarm
        Away:
          type: alarm-panel
          entity: alarm_control_panel.home_alarm
        # Disarmed:
        #   type: alarm-panel
        #   entity: alarm_control_panel.home_alarm

##Alert Card
  - type: custom:card-modder
    card:
      type: entity-filter
      state_filter:
      - "on"
      show_empty: false
      entities:
        - binary_sensor.bs_motion_bsmt_stairs_batt_lvl
        - binary_sensor.bs_motion_kitchen_batt_lvl
        - binary_sensor.bs_motion_parlor_batt_lvl
        - binary_sensor.bs_lock_back_batt_lvl
        - binary_sensor.bs_lock_frt_batt_lvl
        - input_boolean.trash_reminder
        - input_boolean.feed_pets
      card:
        type: glance
        title: Alerts!
    style:
      "--paper-item-icon-color": "green"

##Lights
  - type: custom:tiles-card
    card_settings:
      background: var(--paper-card-background-color)
      columns: 4
      gap: 24px
      title: Lights
    global_settings:
      background:
        value: none
    entities:
      # Living Room
      - entity: light.parlor_lamps
        icon:
          value: mdi:lamp
          color:
            value_on: var(--accent-color)
            value_off: var(--text-color)
          size: 2.3em
        label_sec: Parlor Lamps
      # Kitchen
      - entity: light.kitchen
        icon:
          value: mdi:ceiling-light
          color:
            value_on: var(--accent-color)
            value_off: var(--text-color)
          size: 2.3em
        label_sec: Kitchen Lights
      # MBR
      - entity: light.bedroom_lamps
        icon:
          value: mdi:lamp
          color:  #(optional)
            value_on: var(--accent-color) #(optional)
            value_off: var(--text-color) #(optional)
          size: 2.3em #(optional)
        label_sec: MBR Lamps
      # Family / office
      - entity: light.media_lights
        icon:
          value: mdi:track-light
          color:  #(optional)
            value_on: var(--accent-color) #(optional)
            value_off: var(--text-color) #(optional)
          size: 2.3em #(optional)
        label_sec: Media Lights
      - entity: light.spot_light
        icon:
          value: mdi:spotlight-beam
          color:  #(optional)
            value_on: var(--accent-color) #(optional)
            value_off: var(--text-color) #(optional)
          size: 2.3em #(optional)
        label_sec: Spot Light
      - entity: light.office_lamp
        icon:
          value: mdi:lamp
          color:  #(optional)
            value_on: var(--accent-color) #(optional)
            value_off: var(--text-color) #(optional)
          size: 2.3em #(optional)
        label_sec: Office Lamp

##Climate
  - type: custom:simple-thermostat
    entity: climate.kitchen
    step_size: 1
    sensors:
      - entity: sensor.family_room_thermostat_hvac_state
        name: Current Mode
      - entity: sensor.family_room_thermostat_humidity
        name: Humidity
      - attribute: away_mode
        name: Away mode
    hide:
      mode: true

  - type: custom:weather-card
    entity: weather.dark_sky
    icons: "/community_plugin/weather-card/icons/"
